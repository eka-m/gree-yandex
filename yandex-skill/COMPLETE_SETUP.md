# ðŸ  ÐŸÐ¾Ð»Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð½Ð°Ð²Ñ‹ÐºÐ° "ÐšÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€ Gree" Ð´Ð»Ñ Ð¯Ð½Ð´ÐµÐºÑ Ð£Ð¼Ð½Ð¾Ð³Ð¾ Ð”Ð¾Ð¼Ð°

## ðŸ“‹ Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ

1. [ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°](#Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ°-ÑÐµÑ€Ð²ÐµÑ€Ð°)
2. [Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ](#Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ)
3. [ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° OAuth Ð² Ð¯Ð½Ð´ÐµÐºÑ Developer Console](#Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°-oauth)
4. [Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð°Ð²Ñ‹ÐºÐ° Ð£Ð¼Ð½Ð¾Ð³Ð¾ Ð”Ð¾Ð¼Ð°](#ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ-Ð½Ð°Ð²Ñ‹ÐºÐ°)
5. [Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ](#Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ)
6. [ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ](#Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ)

## ðŸ–¥ï¸ ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°

### Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ:
- VPS Ñ Ubuntu 20.04+
- Node.js 16+
- Ð”Ð¾Ð¼ÐµÐ½ Ñ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ð¼
- ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 512MB RAM, 1GB Ð´Ð¸ÑÐºÐ°

### Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹:

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹
sudo apt update && sudo apt upgrade -y

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° PM2
sudo npm install -g pm2

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Nginx
sudo apt install nginx -y

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Certbot
sudo apt install certbot python3-certbot-nginx -y
```

## ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°:

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
mkdir -p /opt/gree-smart-home
cd /opt/gree-smart-home

# ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
# (ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ yandex-skill)

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
npm install

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
cat > .env << EOF
NODE_ENV=production
PORT=3002
HVAC_SERVER_URL=http://localhost:3001
YANDEX_CLIENT_ID=your-client-id
YANDEX_CLIENT_SECRET=your-client-secret
REDIRECT_URI=https://your-domain.com/oauth/callback
EOF
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx:

```bash
sudo nano /etc/nginx/sites-available/gree-smart-home
```

```nginx
server {
    listen 80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    # SSL Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;

    # Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
    access_log /var/log/nginx/gree-smart-home.access.log;
    error_log /var/log/nginx/gree-smart-home.error.log;

    # ÐŸÑ€Ð¾ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
    location / {
        proxy_pass http://localhost:3002;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        
        # Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ñ‹
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}
```

### 3. ÐÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸:

```bash
sudo ln -s /etc/nginx/sites-available/gree-smart-home /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 4. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°:

```bash
sudo certbot --nginx -d your-domain.com
```

### 5. Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:

```bash
# Ð—Ð°Ð¿ÑƒÑÐº Ñ PM2
pm2 start main.js --name "gree-smart-home"
pm2 save
pm2 startup

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
pm2 status
pm2 logs gree-smart-home
```

## ðŸ” ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° OAuth Ð² Ð¯Ð½Ð´ÐµÐºÑ Developer Console

### 1. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:

1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° [Yandex Developer Console](https://developer.tech.yandex.ru/)
2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"
3. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚Ð¸Ð¿: "Ð’ÐµÐ±-ÑÐµÑ€Ð²Ð¸ÑÑ‹"
4. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ:
   - **ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:** Gree HVAC Smart Home
   - **ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** Ð¡ÐµÑ€Ð²Ð¸Ñ Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€Ð°Ð¼Ð¸ Gree
   - **ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹:** Ð’ÐµÐ±-ÑÐµÑ€Ð²Ð¸ÑÑ‹

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° OAuth:

1. Ð’ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð½Ð°Ð¹Ð´Ð¸Ñ‚Ðµ "OAuth"
2. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ redirect URI: `https://your-domain.com/oauth/callback`
3. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Client ID Ð¸ Client Secret
4. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env`:

```bash
YANDEX_CLIENT_ID=Ð²Ð°Ñˆ-client-id
YANDEX_CLIENT_SECRET=Ð²Ð°Ñˆ-client-secret
```

### 3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:

```bash
pm2 restart gree-smart-home
```

## ðŸ  Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð°Ð²Ñ‹ÐºÐ° Ð£Ð¼Ð½Ð¾Ð³Ð¾ Ð”Ð¾Ð¼Ð°

### 1. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð°Ð²Ñ‹ÐºÐ°:

1. Ð’ Developer Console Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð°Ð²Ñ‹Ðº"
2. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚Ð¸Ð¿: **"Ð£Ð¼Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼"**
3. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ:
   - **ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:** ÐšÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€ Gree
   - **ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€Ð°Ð¼Ð¸ Gree Ñ‡ÐµÑ€ÐµÐ· Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
   - **ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ:** Ð£Ð¼Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° API:

1. Ð’ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸" Ð½Ð°Ð¹Ð´Ð¸Ñ‚Ðµ "API"
2. Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ URL: `https://your-domain.com/v1.0`
3. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ timeout: 5000ms

### 3. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²:

1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² Ñ€Ð°Ð·Ð´ÐµÐ» "Ð£ÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°"
2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾"
3. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚Ð¸Ð¿: **"ÐšÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€"**
4. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¸Ð· Ñ„Ð°Ð¹Ð»Ð° `skill-config.json`

### 4. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° OAuth Ð´Ð»Ñ Ð½Ð°Ð²Ñ‹ÐºÐ°:

1. Ð’ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð½Ð°Ð²Ñ‹ÐºÐ° Ð½Ð°Ð¹Ð´Ð¸Ñ‚Ðµ "OAuth"
2. Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ:
   - **Client ID:** Ð²Ð°Ñˆ-client-id
   - **Client Secret:** Ð²Ð°Ñˆ-client-secret
   - **Redirect URI:** `https://your-domain.com/oauth/callback`

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### 1. Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:

```bash
# Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ API
npm run test

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° health check
curl https://your-domain.com/health

# Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ OAuth
curl https://your-domain.com/oauth/authorize
```

### 2. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸:

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ "Ð¯Ð½Ð´ÐµÐºÑ Ð£Ð¼Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼"
2. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾ "ÐšÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€ Gree"
3. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ

### 3. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´:

- "ÐÐ»Ð¸ÑÐ°, Ð²ÐºÐ»ÑŽÑ‡Ð¸ ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€"
- "ÐÐ»Ð¸ÑÐ°, ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ 24 Ð³Ñ€Ð°Ð´ÑƒÑÐ°"
- "ÐÐ»Ð¸ÑÐ°, Ð²ÐºÐ»ÑŽÑ‡Ð¸ Ð¿Ð¾Ð´ÑÐ²ÐµÑ‚ÐºÑƒ"

## ðŸ“± ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ

### 1. ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸:

1. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ¸
3. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ½

### 2. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð½Ð° Ð¼Ð¾Ð´ÐµÑ€Ð°Ñ†Ð¸ÑŽ:

1. Ð’ Developer Console Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð° Ð¼Ð¾Ð´ÐµÑ€Ð°Ñ†Ð¸ÑŽ"
2. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ:
   - Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°
   - Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¿Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹

### 3. ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸:

- ÐœÐ¾Ð´ÐµÑ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ 1-3 Ð´Ð½Ñ
- ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð´Ð¾Ð±Ñ€ÐµÐ½Ð¸Ñ Ð½Ð°Ð²Ñ‹Ðº Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð² ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ðµ

## ðŸ” ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

### Ð›Ð¾Ð³Ð¸:

```bash
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
pm2 logs gree-smart-home

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð² Nginx
sudo tail -f /var/log/nginx/gree-smart-home.access.log
sudo tail -f /var/log/nginx/gree-smart-home.error.log

# ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
pm2 monit
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:

```bash
# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
cd /opt/gree-smart-home
git pull
npm install
pm2 restart gree-smart-home

# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°
sudo certbot renew
```

### Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±ÑÐºÐ°Ð¿Ð°
tar -czf gree-smart-home-backup-$(date +%Y%m%d).tar.gz /opt/gree-smart-home

# Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ
tar -xzf gree-smart-home-backup-YYYYMMDD.tar.gz -C /
```

## ðŸš¨ Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´Ð¾Ðº

### Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:

1. **SSL Ð¾ÑˆÐ¸Ð±ÐºÐ¸:**
   ```bash
   sudo certbot --nginx -d your-domain.com
   ```

2. **ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ:**
   ```bash
   pm2 logs gree-smart-home
   node main.js
   ```

3. **OAuth Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:**
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Client ID Ð¸ Secret
   - Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ redirect URI Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹

4. **API Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚:**
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ HVAC ÑÐµÑ€Ð²ÐµÑ€ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

### ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹ Ð´Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸:

- Ð›Ð¾Ð³Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ: `pm2 logs gree-smart-home`
- Ð›Ð¾Ð³Ð¸ Nginx: `/var/log/nginx/gree-smart-home.error.log`
- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²: `pm2 status && sudo systemctl status nginx`

## ðŸŽ‰ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð²ÑÐµÑ… ÑˆÐ°Ð³Ð¾Ð² Ñƒ Ð²Ð°Ñ Ð±ÑƒÐ´ÐµÑ‚:

âœ… ÐŸÐ¾Ð»Ð½Ð¾Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð½Ð°Ð²Ñ‹Ðº Ð´Ð»Ñ Ð¯Ð½Ð´ÐµÐºÑ Ð£Ð¼Ð½Ð¾Ð³Ð¾ Ð”Ð¾Ð¼Ð°  
âœ… OAuth 2.0 Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ  
âœ… API Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€Ð¾Ð¼  
âœ… Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²ÑÐµÑ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²  
âœ… SSL Ð·Ð°Ñ‰Ð¸Ñ‚Ð°  
âœ… ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°  

**Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€Ð¾Ð¼ Gree Ñ‡ÐµÑ€ÐµÐ· Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¯Ð½Ð´ÐµÐºÑ Ð£Ð¼Ð½Ñ‹Ð¹ Ð”Ð¾Ð¼!** ðŸŽ‰ 